---
layout: post
title: 零基础linux基础系列教程7-vi编辑器
categories:
- linux使用
- 技术
- 教程
tags:
- linux，linux教程，linux操作系统
published: true
comments: true
---
<p><h1><b>介绍</b></h1>
&nbsp;</p>

<p>这一节中我们将学习如何在linux中编辑文本文件的内容，在linux中我们将使用vi编辑器，因为基本上只要是linux系统，都会自带这个vi编辑器。vi编辑器和我们在windows中使用的文件编辑器是非常的不同的。熟悉它将会花费一定的时间。但只要你熟悉它，你会发觉vi编辑器非常的强大。</p>

<p>&nbsp;
<h1><b>命令行编辑器</b></h1>
&nbsp;</p>

<p>vi编辑器是一个命令行的纯文本编辑器，同GUI比较起来，命令行是一个非常不一样的环境。它只有一个窗口供文本的输入与输出。使用vi编辑器，你不需要用到鼠标，所有的功能都是通过键盘来完成。</p>

<p>vi编辑器有两种模式，输入模式与命令模式，在vi编辑器输入模式下，你可以输入文件内容，在命令模式下，你可以浏览整个文件，完成删除，拷贝，搜索，替换，保存等操作。初学者最通用的错误就是在错误的模式下进行另外一个模式的操作，如在vi编辑器的输入模式下输入保存命令，在命令模式下输入内容。</p>

<p>我们使用如下命令运行vi编辑器：</p>

<p>&nbsp;</p>

<p>[root@pidora ~]# vi &lt;file&gt;</p>

<p>&nbsp;</p>

<p>你可以使用绝对或相对路径指定file参数。例子如下：</p>

<p>&nbsp;</p>

<p>[root@pidora ~]# vi firstfile</p>

<p>&nbsp;</p>

<p>当你键入该命令后，vi编辑器将会打开当前目录下的firstfile文件，如果文件不存在，它将被创建。一旦你确认命令后，你将会看到如下屏幕内容：</p>

<p>&nbsp;</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>"firstfile" [New File]</p>

<p>&nbsp;</p>

<p>文件刚打开时你总是处于命令模式，通过按i键，可以切换到输入模式，这个时候的屏幕状态为：</p>

<p>&nbsp;</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>~</p>

<p>-- INSERT --</p>

<p>&nbsp;</p>

<p>现在你可以输入文件的内容，完成后通过按 Esc键重新切换到命令模式。这时可以进行保存。</p>

<p>&nbsp;
<h1><b>文件保存和退出</b></h1>
&nbsp;</p>

<p>首先确保你当前模式处于vi编辑器的命令模式，你可以看屏幕的底部进行区分。当底部出现 INSERT 字符串时是处于输入模式。没有 INSERT 字符串时处于命令模式。输入如下的命令可以进行保存、退出vi编辑器。注意命令之前的冒号。</p>

<p>&nbsp;</p>

<p>放弃最没有保存的修改，退出vi编辑器。</p>

<p>[root@pidora ~]# :q!</p>

<p>保存修改，不退出vi编辑器</p>

<p>[root@pidora ~]# :w</p>

<p>保存文件并退出vi编辑器</p>

<p>[root@pidora ~]# :wq</p>

<p>&nbsp;
<h1><b>vi编辑器命令模式中的一些操作</b></h1>
&nbsp;</p>

<p>使用键盘方向键进行光标移动</p>

<p>j, k, h, l -这些键也可以分别移动光标下，上，左，右。与键盘方向键类似。</p>

<p>^ -该键移动光标到行的开始处</p>

<p>$ -该键移动光标到行的结尾处</p>

<p>nG - 输入数字后再输入大写的G跳到第n行。</p>

<p>G - 大写的G移动光标到文件末尾</p>

<p>w -w使当前光标移动到下一个单词的开始处</p>

<p>nw - 按数字后按w键移动光标到下n个单词的开始处</p>

<p>b - b键光标向前移动一个单词</p>

<p>nb - 按数字后按b键移动光标到前n个单词的开始处</p>

<p>{ - 该键光标向前移动一个段落</p>

<p>} - 该键光标向后移动一个段落</p>

<p>可以在命令模式下输入 :set nu 显示文件中每行的行号。</p>

<p>&nbsp;</p>

<p>&nbsp;
<h1><b>删除文件内容</b></h1>
&nbsp;</p>

<p>在命令模式下：</p>

<p>&nbsp;</p>

<p>x - 删除单个字符</p>

<p>nx - 删除n个字符</p>

<p>dd - 删除当前行</p>

<p>dn - d后面跟随一个移动光标的命令，将会删除光标开始到移动到的所有内容。如： (d5w 意味着删除5个单词)</p>

<p>&nbsp;
<h1><b>撤销操作</b></h1>
&nbsp;</p>

<p>撤销修改是非常容易的，在命令模式下：</p>

<p>&nbsp;</p>

<p>u - 撤销最后的一次操作，如一次修改操作</p>

<p>U - 撤销当前行的所有操作，重复按一次恢复修改。</p>

<p>&nbsp;</p>

<p>vi编辑器的基本操作就介绍到这里，还有一些其它的操作，如拷贝，粘贴等，大家可以google学习一下。</p>

<p>&nbsp;
<h1><b>查看文件的其他它方式</b></h1>
&nbsp;</p>

<p>vi编辑器允许我们去编辑文件，我们也可以使用它去查看文件内容，但查看文件内容有更好的方法，我们可以使用cat命令：</p>

<p>&nbsp;</p>

<p>[root@pidora ~]# cat &lt;file&gt;</p>

<p>&nbsp;</p>

<p>运行该命令，文件的内容将会输出在屏幕上，最后会切换回命令提示符。如果没有指定任何参数，cat将会读取STDIN（标准输入，默认为键盘）中的内容，cat将会把你的输入进行复制并输出到屏幕，要结束cat命令的运行，可以按 &lt;Ctrl&gt; + c 键。</p>

<p>&nbsp;</p>

<p>带参数运行cat命令：</p>

<p>[root@pidora ~]#cat firstfile</p>

<p>here you will see</p>

<p>whatever content you</p>

<p>entered in your file</p>

<p>&nbsp;</p>

<p>不带参数运行cat命令：</p>

<p>[root@pidora ~]# cat</p>

<p>123</p>

<p>123</p>

<p>456</p>

<p>456</p>

<p>789</p>

<p>789</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>cat命令在查看小文件是非常好的，但如果文件的内容非常多，我们将只能看到文件最后面的内容。这时我们可以使用less来进行大文件的查看：</p>

<p>&nbsp;</p>

<p>[root@pidora ~]# less &lt;file&gt;</p>

<p>&nbsp;</p>

<p>使用less命令查看文件时，可以使用方向键在文件中进行移动。按空格键可以跳到下一页，按b键可以调到上一页。按q键退出。</p>

<p>&nbsp;</p>
